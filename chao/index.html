<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>chaohongji</title>
<link href="css/public.css" rel="stylesheet" type="text/css">
<link href="css/style.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="header">
	<div class="margin">
		<span class="huan">欢迎光临潮宏基商城！</span>
		<!--<a href="login.html">登陆</a><s>|</s><a href="register.html">免费注册</a>-->
	    <h2 class="not-login"><a href="register.html">注册</a>&nbsp;<a href="login.html">登录</a></h2>
    	<h2 class="login-success"><span>先生</span><i>你好，</i><a class="logout">注销</a></h2>
		<img src="images/weibo.png" class="t1" />
		<img src="images/qq.png" class="t2" />
		<img src="images/dun.png"  class="t3"/>
		<img src="images/tel.png"  class="t4"/> 
		<a  class="shop" href="car.html">
			
			<img src="images/suo.png" class="suo" />
			<span href="car.html">购物袋 0 件</span>
			<img src="images/dao.png" class="dao"/> 
		
		</a>
		<i>我的账户<img src="images/daosan.png"/></i>
		<i>网站导航<img src="images/daosan.png"/></i>
		<i>帮助中心</i>
		
	</div>
</div>

<div id="logo">
	<div class="margin">
		<img src="images/logo.png" />
	</div>
	
	<form id="search">
		<input type="text" class="txt" id="txt" placeholder="请输入搜索关键字"/>
		<input type="submit" class="sub" value="搜索"/>
		<ul class="search-res" id="list">
			</ul>
		<p>热搜： 戒指 耳饰 吊坠 哆啦A梦 情侣对戒</p>
	</form>
	
	<div class="qq">
        	<div class="s"><span>在线客服</span><img src="images/cha.png" class="off"/></div>
        	<p>QQ客服</p>
        	<div><img src="http://pub.idqqimg.com/qconn/wpa/button/button_old_41.gif" class="qiye"/><a>潮宏基珠</a></div>
        	<div class="bb"><img src="http://pub.idqqimg.com/qconn/wpa/button/button_old_41.gif" class="qiye1"/><b>潮宏基珠</b></div>
        	<div class="aa"><img src="http://pub.idqqimg.com/qconn/wpa/button/button_old_41.gif" class="qiye2"/><s>潮宏基珠</s></div>
        	<div class="cc"><img src="http://pub.idqqimg.com/qconn/wpa/button/button_old_41.gif" class="qiye3"/><i>潮宏基珠</i></div>
        </div>
     
    
   
    
    </div>
    
</div>








<div id="nav">
	<div class="margin">
		<ul class="zz">
			<li class="first1"><a href="index.html">首页</a></li>
			<li>
				<a>戒指</a>
				<div class="a1">
					<div class="left">
						<p>女戒</p>
						<p>对戒</p>
						<p>花戒</p>

					</div>
					<div class="right">
						<h3>热门：</h3>
						<p>戒指</p>
						<h3>品牌：</h3>
						<img src="images/logo.png" />

					</div>
				</div>
			</li>
			<li>
				<a>项饰</a>
				<div class="a2">
					<div class="left">
						<p>项链</p>
						<p>吊坠</p>
						<p>套链</p>

					</div>
					<div class="right">
						<h3>热门：</h3>
						<p>吊坠</p>
						<h3>品牌：</h3>
						<img src="images/logo.png" />

					</div>
				</div>
			</li>
			<li>
				<a>耳饰</a>
				<div class="a3">
					<div class="left">
						<p>耳钉</p>
						<p>耳坠</p>
						

					</div>
					<div class="right">
						<h3>热门：</h3>
						<p>耳饰</p>
						<h3>品牌：</h3>
						<img src="images/logo.png" />

					</div>
			</li>
			<li>
				<a>腕饰</a>
				<div class="a4">
					<div class="left">
						<p>手链</p>
						<p>手镯</p>
						

					</div>
					<div class="right">
						<h3>热门：</h3>
						<p>耳饰</p>
						<h3>品牌：</h3>
						<img src="images/logo.png" />

					</div>
			</li>
			<li>
				<a>东方文化</a>
				<div class="a5">
					
					
						<h3>热门：</h3>
						<p>戒指 耳饰 吊坠 哆啦A梦 情侣对戒 smiley 熊猫 耳饰</p>
						<h3 class="te">品牌：</h3>
						<img src="images/logo.png" />

				</div>
					
			</li>
			<li>
				<a>新品上市</a>
				<div class="a6">
					
					
						<h3>热门：</h3>
						<p>戒指 耳饰 吊坠 哆啦A梦 情侣对戒 smiley 熊猫 耳饰</p>
						<h3 class="te">品牌：</h3>
						<img src="images/logo.png" />

				</div>
			</li>
			<li><a>企业礼品</a></li>
			<li class="te1"><a>字母链定制</a></li>
			<li class="te1"><a>裸钻定制</a></li>
		</ul>
		<div class="guangbo">
			<img src="images/guangbo.png" />
			<span class="xx">热烈庆祝潮宏基商城上线</span>
		</div>
		
		<div class="box banner2">
        <div class="imgbox">
            <img src="http://www.zgzbmh.roboo.com/upload/2013-09-20/1379648522759-23453.jpg"/>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1559734539956&di=6775b5caf1b0a85fd060ae1331c78283&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F017e0c5542bca50000019ae96173fb.jpg%401280w_1l_2o_100sh.jpg"/>
            <img src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1559734651080&di=457057a30a5020f3a5cae99d7038881c&imgtype=0&src=http%3A%2F%2Fimg.zcool.cn%2Fcommunity%2F017453573fd7e332f875b70f5ba20f.jpg"/>
            
        </div>
        
        
        
    	</div>
		
	</div>
</div>


<div id="pt1" class="margin">
	<div class="l">
		<img src="images/kk.png" />
	</div>
	<div class="r">
		<div class="r1">
			<span>哆啦A梦</span>
			<i>更多…</i>
		</div>
		<div class="r2">
			<div id="cont">
			<p>商城正在维修，暂时没有商品出售...</p>
		</div>
		</div>
	</div>
</div>

<div id="luozuan" class="margin">
	<div class="l">
		<img src="images/ss.png" />
	</div>
	<div class="r">
		<div class="r1">
			<span>媒体报道</span>
			
		</div>
		<div class="r2">
			<p>敞开第一扇大门</p>
			<p>潮宏基发布“2013彩金潮流珠宝趋势”</p>
			<p>2013上海珠宝国际展落幕</p>
			<p>潮宏基代表中国出席2011世界钻石峰会</p>
			<p>最贵的哆啦A梦香港首秀</p>
			<p>潮宏基再度蝉联《中国500强品牌》</p>
			<p>Forevermark？永恒印记美钻臻选艺术 与潮宏基珠宝</p>
		</div>
	</div>
	
	<div class="f1">
		<h4>哆啦</h4>
		<h4>A梦</h4>
	</div>
	
	<div class="f2">
		<h4>东方</h4>
		<h4>文化</h4>
	</div>
	
	<div class="f3">
		<h4>璀璨</h4>
		<h4>钻石</h4>
	</div>
	
	<div class="f4">
		<h4>时尚</h4>
		<h4>K金</h4>
	</div>
	
</div>

<div id="xianshi" class="margin">
	<img src="images/x1.png"/>
	<img src="images/x2.png" class="x2"/>
	<img src="images/x3.png"/>
</div>

<div id="pt1" class="margin pt2">
	<div class="l">
		<img src="images/dong.png" />
	</div>
	<div class="r">
		<div class="r1">
			<span>东方文化</span>
			<i>更多…</i>
		</div>
		<div class="r2">
			<div id="cont2">
			<p>商城正在维修，暂时没有商品出售...</p>
		</div>
		</div>
	</div>
</div>

<div id="pt1" class="margin pt3">
	<div class="l">
		<img src="images/dong1.png" />
	</div>
	<div class="r">
		<div class="r1">
			<span>璀璨钻石</span>
			<i>更多…</i>
		</div>
		<div class="r2">
			<div id="cont3">
			<p>商城正在维修，暂时没有商品出售...</p>
		</div>
		</div>
	</div>
</div>

<div id="pt1" class="margin pt4">
	<div class="l">
		<img src="images/dong2.png" />
	</div>
	<div class="r">
		<div class="r1">
			<span>时尚K金</span>
			<i>更多…</i>
		</div>
		<div class="r2">
			<div id="cont4">
			<p>商城正在维修，暂时没有商品出售...</p>
		</div>
		</div>
	</div>
</div>


<!--尾部-->
<div id="news" class="margin">
	<div class="te">
		<h2>新手指南</h2>
		<p class="first">联系客服</p>
		<p>常见问题</p>
		<p>订单状态</p>
		<p>购物流程</p>
	</div>
	
	<div class="te">
		<h2>支付方式</h2>
		<p class="first">支付宝方式</p>
		
	</div>
	
	<div class="te">
		<h2>配送方式</h2>
		<p class="first">快递到达的省市</p>
		<p>自提点位置</p>
		
	</div>
	
	<div class="te">
		<h2>售后服务</h2>
		<p class="first">退换货政策</p>
		<p>服务政策</p>
		
	</div>
	
	<div class="te">
		<h2>联系我们</h2>
		<p class="first">400-700-8777</p>
		<p>服务时间：每天 8：30 ~ 22：30</p>
		<p>服务邮箱：service@mychj.com</p>
		<p>投诉邮箱：tousu@mychj.com</p>
	</div>
	
	
	
	
</div>

<div id="jieshao">
	<div class="margin">
	<span class="first">公司介绍</span>
	<span>联系我们</span>
	<span>最新动态</span>
	<span>人才招聘</span>
	<span>媒体报道 </span>
	<span>招商加盟</span>
	<span>法律声明</span>
	<span>意见反馈</span>
	<span>网站地图</span>
	</div>
</div>


<div id="footer" class="margin">
	<div class="first">
		<img src="images/r1.png" class="r1"/><span class="r11">100%正品保证</span>
		<img src="images/r2.png" class="r2"/><span class="r22">免费配送全国</span>
		<img src="images/r3.png" class="r3"/><span class="r33">安全支付保障</span>
		<img src="images/r4.png" class="r4"/><span class="r44">7天退换货</span>
	</div>
	<div class="second">
	<p>Copyright © 2008-2013 mychj.com All Rights Reserved 潮宏基官方商城版权所有 </p>
	<p>网站备案号：粤ICP备05096788号-3 技术服务：凡派科技 </p>
	</div>
	<div class="last">
		<img src="images/kk1.png" class="a" />
		<img src="images/kk2.png" class="b"  />
		<img src="images/kk3.png" class="c" />
		<img src="images/kk4.png" class="d"  />
		<img src="images/kk5.png" class="e"  />
	</div>
	<div class="dibu"><img src="images/top.png"</div>
	
</div>



</body>
<script src="jquery.2.2.4.js"></script>
<script src="jquery.banner.1.1.js"></script>
<script src="ajax.2.0.js"></script>
<script src="cookie.js"></script>

<script>
	class Index{
        constructor(){
            this.notLogin = document.querySelector(".not-login")
            this.loginS = document.querySelector(".login-success")
            this.user = document.querySelector(".login-success span")

            this.logout = document.querySelector(".logout");

            // 获取所有的用户信息
            this.init();
            // 添加注销事件
            this.addEvent();
        }
        addEvent(){
            // 点击注销时
            this.logout.onclick = ()=>{
                for(var i=0;i<this.usermsg.length;i++){
                    // 找到要注销的账号
                    if(this.name == this.usermsg[i].user){
                        // 修改当前账号的登录状态为0
                        this.usermsg[i].onoff = 0;
                        // 隐藏登录成功的信息
                        this.notLogin.style.display = "block";
                        this.loginS.style.display = "none";
                        // 再将用户的信息设置回去，实现真正的注销
                        localStorage.setItem("usermsg",JSON.stringify(this.usermsg))
                        // 结束
                        return ;
                    }
                }
            }
        }
        init(){
            // 获取所有的用户信息直接转换，方便使用
            this.usermsg = localStorage.getItem("usermsg") ? JSON.parse(localStorage.getItem("usermsg")) : [];
            // 开始验证
            this.check()
        }
        check(){
            // 拿到所有的信息
            for(var i=0;i<this.usermsg.length;i++){
                // 判断哪个用户的状态为已登录
                if(this.usermsg[i].onoff == 1){
                    // 显示登录成功的信息
                    this.notLogin.style.display = "none";
                    this.loginS.style.display = "block";
                    // 设置当前用户名
                    this.user.innerHTML = this.usermsg[i].user;
                    // 保存当前用户名，用作注销
                    this.name = this.usermsg[i].user;
                    
                    return;
                }
            }
        }
    }

    new Index; //注销
	
	
	$(function(){
			$(".zz").children("li").mouseover(function(){
				$(this).children("div").stop().show().parent().siblings().children("div").stop().hide()
				$(this).css("background","#600e0e")
			})
			$(".zz").children("li").mouseout(function(){
				$(this).children("div").stop().hide()
				$(this).css("background","#9a2438")
			})
			$(".first1").mouseout(function(){
				
				$(this).css("background","#600e0e")
			})
			$(".te1").mouseover(function(){
				
				$(this).children("a").css("color","darkred")
				$(this).css("background","#464646")
			})
			$(".te1").mouseout(function(){
				
				$(this).children("a").css("color","white")
				$(this).css("background","#464646")
			})
			
	
		})//二级子菜单
	
	
	document.onscroll=function(){
		
		if(document.documentElement.scrollTop>0){
		
		$(".dibu").css("display","block")
	}
	
	if(document.documentElement.scrollTop<1){
		
		$(".dibu").css("display","none")
	}
	}//底部页面滚动
	

	
	 $(".dibu").click(function(){
        
        $("html").animate({
            scrollTop:$("#header").offset().top
        })
      })//点击底部到达页面顶端
	
	$(".f1").click(function(){
        
        $("html").animate({
            scrollTop:$("#pt1").offset().top
        },1000)
      })
	
	$(".f2").click(function(){
        
        $("html").animate({
            scrollTop:$(".pt2").offset().top
        },1000)
      })
	
	$(".f3").click(function(){
        
        $("html").animate({
            scrollTop:$(".pt3").offset().top
        },1000)
      })
	
	$(".f4").click(function(){
        
        $("html").animate({
            scrollTop:$(".pt4").offset().top
        },1000)
      })
	
	
	$(".off").click( function(){
		$(".qq").hide()
		
	})//右侧关闭QQ
	
	
    $(".banner2").banner({
        items:$(".banner2 .imgbox").children(),
        
        list:true,
        autoPlay:true,
    });//轮播图
    
  
    


		
     class List{
			constructor(){
				this.cont = document.getElementById("cont");
				this.cont2 = document.getElementById("cont2");
				this.cont3 = document.getElementById("cont3");
				this.cont4 = document.getElementById("cont4");
				this.url = "http://localhost/1903/xxx/data/list.json";

				this.init();
				this.addEvent();
			}
			init(){
				var that = this;
				ajax({
					url:this.url,
					success:function(res){
						that.res = JSON.parse(res)
						that.display()
					}
				})
			}
			display(){
				var str = "";
				for(var i=0;i<this.res.length;i++){
					str += `<div class="box" index="${this.res[i].goodsId}">
								<a href="fangdajing.html">
								<img src="${this.res[i].src}" >
								<p>${this.res[i].name}</p>
								<span>${this.res[i].price}</span>
								<em class="btn">加入购物车</em>
								</a>
							</div>`
				}
				this.cont.innerHTML = str;
				this.cont2.innerHTML = str;
				this.cont3.innerHTML = str;
				this.cont4.innerHTML = str;
				
			}
			addEvent(){
				var that = this;
				this.cont.addEventListener("click",function(eve){
					var e = eve || window.event;
					var target = e.target || e.srcElement;
					if(target.className == "btn"){
						// 1.点击时存储当前的商品id
						that.id = target.parentNode.getAttribute("index");
						// 2.准备设置cookie
						that.setCookie()
					}
					console.log(target)
				})
			}
			setCookie(){
				// 点击商品的情况
				// 存cookie，存什么格式的字符
					// 商品：对象		{id:,num:}
					// 所有商品：数组	[{id:,num:},{id:,num:},{id:,num:}]
				
				// 3.先获取cookie用来判断第一次还是后面的次
				this.goods = getCookie("shangpin");
				// 开始判断
				if(this.goods){
					// 5.之后点击，先解析数据
					this.goods = JSON.parse(this.goods)
					// 6.判断点的是否是重复数据
					var onoff = true;
					for(var i=0;i<this.goods.length;i++){
						if(this.goods[i].id == this.id){
							// 是重复数据
							this.goods[i].num ++;
							onoff = false;
						}
					}
					// 7.点的是新数据
					if(onoff){
						this.goods.push({
							id:this.id,
							num:1
						})
					}
				}else{
					// 4.第一次点击，直接存
					this.goods = [{
						id:this.id,
						num:1
					}]
				}
				// 8.以上都只是在操作数组，最后要设置回cookie
				setCookie("shangpin",JSON.stringify(this.goods))
			}
		}

		new List;
		
		
function time(){ 
$(".xx").slideToggle(1000)
}setInterval("time()",2000);//广播淡出淡入

</script>
</html>

